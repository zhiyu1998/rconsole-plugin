name: Auto Reply to Issues

on:
  issues:
    types: [opened]

jobs:
  auto-reply:
    runs-on: ubuntu-latest
    permissions:
      issues: write
      contents: read
    steps:
      - name: Reply to Issue
        uses: actions/github-script@v7
        with:
          script: |
            const issueNumber = context.issue.number;
            const issueTitle = context.payload.issue.title;
            const issueAuthor = context.payload.issue.user.login;
            
            // æ ¹æ®æ ‡é¢˜å…³é”®è¯åˆ¤æ–­ç±»å‹
            let replyMessage = '';
            let emoji = 'ğŸ‘‹';
            
            if (issueTitle.toLowerCase().includes('bug') || issueTitle.toLowerCase().includes('é”™è¯¯') || issueTitle.toLowerCase().includes('é—®é¢˜')) {
              emoji = 'ğŸ›';
              replyMessage = `${emoji} Hi @${issueAuthor}! 
              
              æ„Ÿè°¢æ‚¨æŠ¥å‘Šè¿™ä¸ªbugï¼æˆ‘ä»¬å·²ç»æ”¶åˆ°æ‚¨çš„åé¦ˆï¼Œä¼šå°½å¿«è°ƒæŸ¥å¹¶ä¿®å¤ã€‚
              
              ä¸ºäº†æ›´å¥½åœ°å¸®åŠ©æ‚¨è§£å†³é—®é¢˜ï¼Œè¯·ç¡®ä¿æä¾›ï¼š
              - [ ] è¯¦ç»†çš„é—®é¢˜æè¿°
              - [ ] å¤ç°æ­¥éª¤
              - [ ] è¿è¡Œç¯å¢ƒä¿¡æ¯
              - [ ] ç›¸å…³çš„é”™è¯¯æ—¥å¿—
              
              æˆ‘ä»¬ä¼šå°½å¿«å›å¤æ‚¨ï¼`;
            } else if (issueTitle.toLowerCase().includes('feature') || issueTitle.toLowerCase().includes('åŠŸèƒ½') || issueTitle.toLowerCase().includes('å»ºè®®')) {
              emoji = 'ğŸš€';
              replyMessage = `${emoji} Hi @${issueAuthor}! 
              
              æ„Ÿè°¢æ‚¨çš„åŠŸèƒ½å»ºè®®ï¼æˆ‘ä»¬å¾ˆé«˜å…´æ”¶åˆ°æ–°çš„æƒ³æ³•å’Œå»ºè®®ã€‚
              
              æˆ‘ä»¬ä¼šä»”ç»†è¯„ä¼°æ‚¨çš„å»ºè®®ï¼š
              - [ ] è¯„ä¼°æŠ€æœ¯å¯è¡Œæ€§
              - [ ] åˆ†æå¯¹ç°æœ‰åŠŸèƒ½çš„å½±å“
              - [ ] ç¡®å®šå¼€å‘ä¼˜å…ˆçº§
              
              å¦‚æœæ‚¨æœ‰æ›´å¤šç»†èŠ‚æˆ–ä½¿ç”¨åœºæ™¯ï¼Œæ¬¢è¿è¡¥å……ï¼`;
            } else if (issueTitle.toLowerCase().includes('doc') || issueTitle.toLowerCase().includes('æ–‡æ¡£') || issueTitle.toLowerCase().includes('è¯´æ˜')) {
              emoji = 'ğŸ“–';
              replyMessage = `${emoji} Hi @${issueAuthor}! 
              
              æ„Ÿè°¢æ‚¨å…³æ³¨æ–‡æ¡£æ”¹è¿›ï¼æ¸…æ™°çš„æ–‡æ¡£å¯¹é¡¹ç›®éå¸¸é‡è¦ã€‚
              
              æˆ‘ä»¬ä¼šï¼š
              - [ ] å®¡æŸ¥å½“å‰æ–‡æ¡£å†…å®¹
              - [ ] è¡¥å……ç¼ºå¤±çš„è¯´æ˜
              - [ ] ä¼˜åŒ–æ–‡æ¡£ç»“æ„
              
              æ‚¨çš„åé¦ˆå¾ˆæœ‰ä»·å€¼ï¼`;
            } else {
              replyMessage = `${emoji} Hi @${issueAuthor}! 
              
              æ„Ÿè°¢æ‚¨æäº¤issueï¼æˆ‘ä»¬å·²ç»æ”¶åˆ°æ‚¨çš„åé¦ˆã€‚
              
              æˆ‘ä»¬ä¼šå°½å¿«å¤„ç†æ‚¨çš„è¯·æ±‚ï¼š
              - [ ] åˆ†æé—®é¢˜å†…å®¹
              - [ ] ç¡®å®šå¤„ç†æ–¹æ¡ˆ
              - [ ] åŠæ—¶åé¦ˆè¿›å±•
              
              å¦‚æœ‰ä»»ä½•ç–‘é—®ï¼Œéšæ—¶ä¸æˆ‘ä»¬è”ç³»ï¼`;
            }
            
            await github.rest.issues.createComment({
              owner: context.repo.owner,
              repo: context.repo.repo,
              issue_number: issueNumber,
              body: replyMessage
            });